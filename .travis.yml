language: python
python:
    - "3.5"
    - "3.6"

os:
    - "linux"
    - "osx"

before_install:
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install imagemagick; fi
    - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; sudo apt-get -qq update; fi
    - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; sudo apt-get install -y imagemagick; fi

install:
    - pip install flake8 pylint

script:
    - flake8 pywal tests setup.py
    - pylint pywal tests setup.py
    - python setup.py test
